<!DOCTYPE html>
<html>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
        <title>Enviar Documentos</title>
    </head>
    
<body>
<main class="mt-5 pt-3 mb-2">
    <div class="container-fluid">
        <div class="card">
            <div class="card-header">
                <span class='me-2'><i class="bi bi-file-earmark-break-fill"></i></span>
                <span><b>Envio de Documentos</b></span>
            </div>
            <div class="card-body">
                <form id="formEnvDoc" class="row g-3" action="./index.php" method="post" enctype="multipart/form-data" >
                    <div class="form-group col-md-6">
                        <label for="email" class="form-label">Insira seu E-mail</label>
                        <input type="email" class="form-control" id="email" name="email"  placeholder="nome@exemplo.com" required/>
                    </div>
                    <div class="form-group col-md-6">
                        <label for="cpf" class="form-label">CPF</label>
                        <input type="text" class="form-control" onkeypress="mascaraCpf(this,cpf)" onblur="mascaraCpf(this,cpf)" name="cpf" id="cpf" required/>
                    </div>
                    <div class="form-group col-md-12">
                        <label for="nomeContribuinte" class="form-label">Nome do Contribuinte</label>
                    <input type="text" class="form-control" name="nomeC" onkeypress="maskName(this,nome)" onblur="maskName(this,nome)" id="nomeC" pattern="[a-z A-Z À-ú]{2,}" required/>
                    </div>
                    <div class="form-group col-md-12">
                        <label for="InserirArquivo" class="form-label">Insira os Arquivos aqui</label>
                        <input class="form-control" type="file" name="files[]" id="file" accept=".png,.jpeg"  multiple>
                    </div>
                    <div class='form-group'>
                        <input type='submit' class='btn btn-success mt-3' id="Enviar" name="Submit" value="Enviar"/>
                    </div>
                </form>
            </div>
        </div>
    </div>
</main>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.3/jquery.min.js" integrity="sha512-STof4xm1wgkfm7heWqFJVn58Hm3EtS31XFaagaa8VMReCXAkQnJZ+jEy8PCC/iT18dFy95WcExNHFTqLyp72eQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script>
       const email = document.getElementById('email');
       const Cpf = document.getElementById('cpf');
       const nomeC = document.getElementById('nomeC');
       const button = document.getElementById('Enviar');
       const files = document.getElementById('file');
       

           button.addEventListener('click', function(){
               console.log(email.value);
               console.log(Cpf.value);
               console.log(nomeC.value);
               console.log(files.value);
           });
           
           
        function mascaraCpf(o, f) {
            setTimeout(function() {
                var v = cpf(o.value);
                if (v != o.value) {o.value = v;}
            }, 1);
        }

    function cpf(v) {
        var r = v.replace(/\D/g, "");
        if (r.length > 9) {
        r = r.replace(/^(\d{3})(\d{3})(\d{3})(\d{1,2}).*/, "$1.$2.$3-$4");
        } else if (r.length > 5) {
        r = r.replace(/^(\d{3})(\d{3})(\d{0,3}).*/, "$1.$2.$3");
        } else if (r.length > 2) {
        r = r.replace(/^(\d{3})(\d{0,5})/, "$1.$2");
        } else {
        r = r.replace(/^(\d*)/, "$1");
        }
        return r;
    }
    
    function maskName(o, f) {
    setTimeout(function() {
        var v = nome(o.value);
        if (v != o.value) {o.value = v;}
    }, 1);
    
    }
    function nome(v) {
        var r = v.replace(/[^a-z A-Z À-ú]/g, "");
        return r;
    }
    </script>
</body>
</html>